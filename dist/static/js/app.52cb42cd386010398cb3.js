webpackJsonp([1],{"68wp":function(e,t){},"99T7":function(e,t){},DNNy:function(e,t){},GgAE:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("7+uW"),n=i("mvHQ"),r=i.n(n),a=i("woOf"),o=i.n(a),l=i("NYxO");s.default.use(l.a);var c={switchTab:function(e,t){this.state.navselected=t,this.commit("setState",e)},updateForm:function(e,t){var i=t.field,s=t.dataindex,n=t.key,r=t.value;this.state.resume[i].data[s][n]=r,this.commit("setState",e)},addFieldData:function(e,t){var i=t.field;this.state.resume[i].data.push(t.data),this.commit("setState",e)},removeFieldData:function(e,t){var i=this.state.resume[t.field].data;if(i.length>1)i.splice(t.index,1);else for(var s in i[0])i[0][s]="";this.commit("setState",e)},setUser:function(e,t){o()(e.user,t),this.commit("setState",e),console.log(e.user)},removeUser:function(e){for(var t in e.user)e.user[t]="";this.commit("setState",this.state)},initState:function(e,t){o()(e,t)},setState:function(e){localStorage.setItem("state",r()(e))}},u=new l.a.Store({state:{navselected:"profile",user:{id:"",username:""},resume:{profile:{field:"profile",title:"个人信息",label:[{key:"name",cn:"姓名"},{key:"birth",cn:"出生年月"},{key:"genter",cn:"性别"},{key:"city",cn:"所在城市"},{key:"workTimes",cn:"工作时间"},{key:"status",cn:"目前状态"},{key:"wishCity",cn:"期望城市"},{key:"wishPosition",cn:"期望职位"}],data:[{name:"",birth:"",city:"",workTimes:"",status:"",wishCity:"",wishPosition:""}]},education:{field:"education",title:"学习经历",label:[{key:"school",cn:"学校"},{key:"time",cn:"时间"},{key:"major",cn:"专业"}],data:[{school:"",time:"",major:""},{school:"",time:"",major:""}]},workHistory:{field:"workHistory",title:"工作经历",label:[{key:"company",cn:"公司名称"},{key:"time",cn:"任职时间"},{key:"position",cn:"职位"},{key:"content",cn:"职责简介"}],data:[{company:"",time:"",position:"",content:""}]},projects:{field:"projects",title:"项目经验",label:[{key:"name",cn:"项目名称"},{key:"skill",cn:"所需技能"},{key:"content",cn:"项目简介"}],data:[{name:"",skill:"",content:""}]},awards:{field:"awards",title:"获奖经历",label:[{key:"name",cn:"奖项"},{key:"content",cn:"简介"}],data:[{name:"",content:""}]},contacts:{field:"contacts",title:"联络方式",label:[{key:"type",cn:"联络方式"},{key:"address",cn:"联络地址"}],data:[{type:"",address:""}]},others:{field:"others",title:"其他",label:[{key:"name",cn:"条目"},{key:"content",cn:"内容"}],data:[{name:"",content:""}]}}},mutations:c}),d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"MyDialogMode"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"header"},[i("h1",[e._v("Resume Editor")]),e._v(" "),i("i",{staticClass:"el-icon-circle-close",attrs:{id:"CloseButton"},on:{click:function(t){e.Exit()}}})]),e._v(" "),i("div",{staticClass:"form"},[e._t("default")],2)])])},staticRenderFns:[]};var m=i("VU/8")({methods:{Exit:function(){this.$emit("ExitDialog")}}},d,!1,function(e){i("ZElm")},null,null).exports,f=i("JnRc"),v=i.n(f);v.a.init({appId:"0byl3BckU1qsECMJhwrCs3hR-gzGzoHsz",appKey:"EbrS4vDhR6kt7l8vEYEk4ziF"});var h,p=v.a,_=function(e){var t=e||p.User.current()||{attributes:{}},i=t.id,s=t.attributes.username;return{id:i||"",username:s||""}},g=i("bOdI"),w=i.n(g),y=(h={202:"用户名已被占用",210:"用户名和密码不匹配",211:"找不到该用户",217:"无效的用户名"},w()(h,"217","无效的用户名"),w()(h,"unknown","请求失败，请稍后再试"),h),k=function(e){var t=e.code;return y[t]||y.unknown},b={data:function(){var e=this;return{registerForm:{userName:"",pwd:"",checkPwd:""},registerRule:{userName:[{validator:function(e,t,i){""===t?i(new Error("请输入用户名")):/^[\w\u4e00-\u9fa5]{3,10}$/g.test(t)?i():i(new Error("请输入3-10个字母/汉字/数字/下划线"))},trigger:"blur"}],pwd:[{validator:function(t,i,s){""===i?s(new Error("请输入密码")):/^\S{3,20}$/g.test(i)?(""!==e.registerForm.checkPwd&&e.$refs.registerForm.validateField("checkPwd"),s()):s(new Error("请输入3-20个非空白字符"))},trigger:"blur"}],checkPwd:[{validator:function(t,i,s){""===i?s(new Error("请再次输入密码")):i!==e.registerForm.pwd?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]},errorMessage:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log(t.$refs.registerForm);var i=new p.User,s=t.registerForm.userName,n=t.registerForm.pwd;i.setUsername(s),i.setPassword(n),i.signUp().then(function(e){t.$emit("success",_()),t.$notify({title:"注册成功",message:"欢迎使用本应用",type:"success",duration:2500})},function(e){t.$message.error(k(e)),setTimeout(function(){t.$refs.registerForm.resetFields()},2e3)})})},SwitchDialog:function(){this.$emit("SwitchDialog")}}},F={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"SignInForm"}},[i("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.registerRule}},[i("el-form-item",{attrs:{label:"设置用户名",prop:"userName"}},[i("el-input",{attrs:{type:"userName",placeholder:"请设置用户名",required:""},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"设置密码",prop:"pwd"}},[i("el-input",{attrs:{type:"password",placeholder:"请设置密码",required:""},model:{value:e.registerForm.pwd,callback:function(t){e.$set(e.registerForm,"pwd",t)},expression:"registerForm.pwd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"checkPwd"}},[i("el-input",{attrs:{type:"password",placeholder:"请确认密码",required:""},model:{value:e.registerForm.checkPwd,callback:function(t){e.$set(e.registerForm,"checkPwd",t)},expression:"registerForm.checkPwd"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:function(t){e.submitForm("registerForm")}}},[e._v("注册")])],1)],1),e._v(" "),i("span",{on:{click:function(t){e.SwitchDialog()}}},[e._v("已经有账号？马上登录")]),e._v(" "),i("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])],1)},staticRenderFns:[]};var C={data:function(){return{loginForm:{userName:"",pwd:""},loginRule:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 16 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}]}}},methods:{SwitchDialog:function(){console.log(1),this.$emit("SwitchDialog")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i=t.loginForm.userName,s=t.loginForm.pwd;p.User.logIn(i,s).then(function(){t.$emit("success",_()),t.$notify({title:"登录成功",message:"欢迎回来",type:"success",duration:2500})},function(e){t.$message.error(k(e)),setTimeout(function(){t.$refs.loginForm.resetFields()},2e3)})})}}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"LogInForm"}},[i("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.loginRule}},[i("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[i("el-input",{attrs:{type:"userName",placeholder:"请输入用户名",required:""},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[i("el-input",{attrs:{type:"password",placeholder:"请输入密码",required:""},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("loginForm")}}},[e._v("登录")])],1)],1),e._v(" "),i("span",{on:{click:function(t){e.SwitchDialog()}}},[e._v("还没有账号？马上注册")])],1)},staticRenderFns:[]};var $={store:u,data:function(){return{enterTo:""}},methods:{EnterPreview:function(){this.$emit("EnterPreview")},showSignIn:function(){this.enterTo="signIn"},showLogIn:function(){this.enterTo="logIn"},ExitDialog:function(){this.enterTo=""},SwitchDialog:function(){"logIn"===this.enterTo?this.enterTo="signIn":this.enterTo="logIn"},setUser:function(e){this.$store.commit("setUser",e),this.enterTo=""},removeUser:function(){this.$store.commit("removeUser"),this.$notify({title:"退出成功",message:"你已经退出本应用",type:"success",duration:2500})}},components:{MyDialogMode:m,SignInForm:i("VU/8")(b,F,!1,function(e){i("Q143")},null,null).exports,LogInForm:i("VU/8")(C,E,!1,function(e){i("R2ks")},null,null).exports},computed:{user:function(){return this.$store.state.user},logined:function(){return this.user.id}}},T={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Topbar"}},[e._m(0),e._v(" "),i("div",{staticClass:"action"},[e.logined?i("div",{staticClass:"userActions"},[i("span",{staticClass:"welcome"},[e._v("你好，"+e._s(e.user.username))]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.removeUser()}}},[e._v("退出")]),e._v(" "),i("el-button",{on:{click:function(t){e.EnterPreview()}}},[e._v("预览")])],1):i("div",{staticClass:"userActions"},[i("MyDialogMode",{class:e.enterTo,on:{ExitDialog:function(t){e.ExitDialog()}}},["signIn"===e.enterTo?i("SignInForm",{on:{SwitchDialog:function(t){e.SwitchDialog()},success:function(t){e.setUser(t)}}}):i("LogInForm",{on:{SwitchDialog:function(t){e.SwitchDialog()},success:function(t){e.setUser(t)}}})],1),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){e.showSignIn()}}},[e._v("注册")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showLogIn()}}},[e._v("登录")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("Resume Editor")])])}]};var x=i("VU/8")($,T,!1,function(e){i("68wp")},null,null).exports,P={store:u,data:function(){return{state:this.$store.state}},props:["field"],methods:{updateForm:function(e,t,i,s){this.$store.commit("updateForm",{field:e,dataindex:t,key:i,value:s})},add:function(){var e={};for(var t in e.field=this.field.field,e.data={},this.field.label){var i;i=this.field.label[t],e.data[i.key]=""}this.$store.commit("addFieldData",e)},remove:function(e,t){var i={};i.field=this.field.field,i.index=t,this.$store.commit("removeFieldData",i)}},computed:{}},S={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"header"},[i("h1",{attrs:{id:"fieldName"}},[e._v(e._s(e.field.title))]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"profile"!==e.field.field,expression:"field.field !== 'profile'"}],attrs:{type:"success"},on:{click:function(t){e.add()}}},[e._v("添加")])],1),e._v(" "),i("div",{staticClass:"content"},e._l(e.field.data,function(t,s){return i("el-form",{key:t,staticClass:"dataItems",attrs:{"label-position":"top"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移除或清空",placement:"left"}},[i("i",{staticClass:"deleteButton el-icon-delete",on:{click:function(t){e.remove(e.field.field,s)}}})]),e._v(" "),e._l(e.field.label,function(t){return i("el-form-item",{key:t.key,staticClass:"inputLabel",attrs:{label:t.cn}},[i("el-input",{attrs:{value:e.field.data[s][t.key]},on:{input:function(i){e.updateForm(e.field.field,s,t.key,i)}}})],1)})],2)}))])},staticRenderFns:[]};var N={store:u,data:function(){return{}},methods:{switchNavTab:function(e){this.$store.commit("switchTab",e)}},computed:{resume:function(){return this.$store.state.resume},navselected:function(){return this.$store.state.navselected}},components:{EditorTemplate:i("VU/8")(P,S,!1,function(e){i("GgAE")},null,null).exports}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Editor"}},[i("nav",{staticClass:"field"},[i("ul",e._l(e.resume,function(t){return i("li",{key:t.field,class:{active:e.navselected===t.field},on:{click:function(i){e.switchNavTab(t.field)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-"+t.field}})])])}))]),e._v(" "),i("div",{staticClass:"subfield"},[i("nav",e._l(e.resume,function(t){return i("div",{key:t.field,staticClass:"subfieldItems",class:{active:e.navselected===t.field}},[i("EditorTemplate",{class:t.field,attrs:{field:e.resume[t.field]}})],1)}))])])},staticRenderFns:[]};var I=i("VU/8")(N,D,!1,function(e){i("jt78")},null,null).exports,A=i("l9mu"),U=i.n(A),R={store:u,data:function(){return{theTheame:"default"}},computed:{resume:function(){return this.$store.state.resume}},methods:{filterArray:function(e){return e.filter(function(e){return!function(e){var t=!0;for(var i in e)if(e[i]){t=!1;break}return t}(e)})},ExitPreview:function(){this.$emit("ExitPreview")},switchTheame:function(e){this.theTheame=e.target.getAttribute("theame")},makepdf:function(){html2canvas(document.getElementById("page"),{dpi:6e5,onrendered:function(e){var t=e.toDataURL("image/jpeg"),i=new U.a("p","mm","a4");i.addImage(t,"JPEG",0,0,210,297),i.save("resume.pdf")},background:"#FFF"})}}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Preview"}},[i("div",{staticClass:"actions"},[e._m(0),e._v(" "),i("div",{staticClass:"tab"},[i("span",{staticClass:"selatedTab",class:{active:"default"===e.theTheame},attrs:{theame:"default"},on:{click:function(t){e.switchTheame(t)}}},[e._v("默认")]),e._v(" "),i("span",{staticClass:"selatedTab",class:{active:"simple"===e.theTheame},attrs:{theame:"simple"},on:{click:function(t){e.switchTheame(t)}}},[e._v("简约")])])]),e._v(" "),i("div",{staticClass:"page",class:this.theTheame,attrs:{id:"page"}},[i("div",{staticClass:"aside"},[i("section",{staticClass:"profile"},e._l(e.filterArray(e.resume.profile.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"profile_name"},[i("h1",[e._v(e._s(t.name))])]),e._v(" "),i("li",[i("span",[e._v(e._s(t.genter))]),e._v(" "),i("span",[e._v(e._s(t.birth))]),e._v(" "),i("span",[e._v(e._s(t.status))])]),e._v(" "),i("li",[i("span",[e._v("目前在"+e._s(t.city||"【请填写所在城市")+"，期望在"+e._s(t.wishCity||"【请填写所在城市】")+"找到一份"+e._s(t.wishPosition||"【请填写期望职位】")+"的工作")])])])})),e._v(" "),e.filterArray(e.resume.contacts.data).length>0?i("section",{staticClass:"contacts"},[i("h2",[e._v("联系方式")]),e._v(" "),e._l(e.filterArray(e.resume.contacts.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.type))]),e._v(" "),i("span",[e._v(e._s(t.address))])])})],2):e._e()]),e._v(" "),i("div",{staticClass:"detail"},[e.filterArray(e.resume.projects.data).length>0?i("section",{staticClass:"project"},[i("h2",[e._v("项目经验")]),e._v(" "),e._l(e.filterArray(e.resume.projects.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.name))]),e._v(" "),i("li",[e._v(e._s(t.skill))]),e._v(" "),i("li",[e._v(e._s(t.content))])])})],2):e._e(),e._v(" "),e.filterArray(e.resume.workHistory.data).length>0?i("section",{staticClass:"workHistory"},[i("h2",[e._v("工作经历")]),e._v(" "),e._l(e.filterArray(e.resume.workHistory.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.company))]),e._v(" "),i("li",[e._v(e._s(t.time)+" | "+e._s(t.position))]),e._v(" "),i("li",[e._v(e._s(t.content))])])})],2):e._e(),e._v(" "),e.filterArray(e.resume.education.data).length>0?i("section",{staticClass:"education"},[i("h2",[e._v("学习经历")]),e._v(" "),e._l(e.filterArray(e.resume.education.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.school))]),e._v(" "),i("li",[e._v(e._s(t.time)+" | "+e._s(t.major))]),e._v(" "),i("li")])})],2):e._e(),e._v(" "),e.filterArray(e.resume.awards.data).length>0?i("section",{staticClass:"awards"},[i("h2",[e._v("获奖经历")]),e._v(" "),e._l(e.filterArray(e.resume.awards.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.name))]),e._v(" "),i("li",[e._v(e._s(t.content))])])})],2):e._e(),e._v(" "),e.filterArray(e.resume.others.data).length>0?i("section",{staticClass:"others"},[i("h2",[e._v("其他")]),e._v(" "),e._l(e.filterArray(e.resume.others.data),function(t){return i("ul",{key:t.name},[i("li",{staticClass:"item_name"},[e._v(e._s(t.name))]),e._v(" "),i("li",[e._v(e._s(t.content))])])})],2):e._e()])]),e._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击退出预览",placement:"right"}},[i("el-button",{staticClass:"exitButton",attrs:{type:"info",icon:"el-icon-close",circle:""},on:{click:function(t){e.ExitPreview()}}})],1),e._v(" "),i("el-button",{staticClass:"printButton",on:{click:function(t){e.makepdf()}}},[e._v("保存为pdf")])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head"},[t("span",{staticClass:"theme"},[this._v("主题")]),this._v(" "),t("div",{staticClass:"block top"}),this._v(" "),t("div",{staticClass:"block bottom"})])}]};var j=i("VU/8")(R,M,!1,function(e){i("99T7")},null,null).exports,q=(i("uMhA"),{store:u,name:"App",components:{TopBar:x,Editor:I,Preview:j},data:function(){return{PreviewMode:!1}},methods:{EnterPreview:function(){this.PreviewMode=!0},ExitPreview:function(){this.PreviewMode=!1}},created:function(){var e=localStorage.getItem("state");e&&(e=JSON.parse(e)),this.$store.commit("initState",e)}}),H={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{PreviewMode:!0===e.PreviewMode},attrs:{id:"app"}},[i("TopBar",{staticClass:"topbar",on:{EnterPreview:function(t){e.EnterPreview()}}}),e._v(" "),i("main",[i("Editor",{staticClass:"editor"}),e._v(" "),i("Preview",{staticClass:"preview",on:{ExitPreview:function(t){e.ExitPreview()}}})],1)],1)},staticRenderFns:[]};var B=i("VU/8")(q,H,!1,function(e){i("DNNy")},null,null).exports,L=i("zL8q"),V=i.n(L);i("tvR6");s.default.config.productionTip=!1,s.default.use(V.a),new s.default({el:"#app",components:{App:B},template:"<App/>"})},Q143:function(e,t){},R2ks:function(e,t){},ZElm:function(e,t){},jt78:function(e,t){},tvR6:function(e,t){},uMhA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.52cb42cd386010398cb3.js.map